{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","alt","src","logo","CurrentUserContext","React","createContext","Card","onCardClick","card","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","type","onClick","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","about","map","Footer","ImagePopup","onClose","isOpen","api","obj","this","_url","url","_authorization","headers","authorization","_contentType","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","cardId","data","PopupWithForm","title","children","buttonText","onSubmit","autoComplete","EditProfilePopup","onUpdateUser","request","useState","setName","description","setDescription","useEffect","evt","preventDefault","id","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","setLink","ConfirmDeletePopup","confirmDelete","deleteCard","App","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setRequest","setDeleteCard","closeAllPopups","a","editUserInfo","catch","err","console","error","finally","all","getUserInfo","getInitialCards","Provider","deleteLike","addLike","newCard","state","c","editAvatar","addNewCard","filter","item","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4fc68d75.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img\r\n        className=\"logo\"\r\n        alt=\"логотип Mesto\"\r\n        src={logo}\r\n      />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import CurrentUserContext  from \"../contexts/CurrentUserContext\";\r\nimport React from 'react';\r\n\r\nfunction Card({ onCardClick, card, onCardLike, onCardDelete }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card, isLiked);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"element\" >\r\n      {isOwn && <button type=\"button\" className=\"element__delete-button\" onClick={handleDeleteClick} aria-label=\"кнопка 'удалить'\"></button>}\r\n      <img className=\"element__image\" src={card.link} alt={card.name} onClick={handleClick} />\r\n      <div className=\"element__panel\">\r\n        <h2 className=\"element__title\">{card.name}</h2>\r\n        <div className=\"element__likes\">\r\n          <button type=\"button\" className={`element__heart-button ${isLiked && 'element__heart-button_active'}`} onClick={handleLikeClick}\r\n            aria-label=\"отметить место как понравившееся\"></button>\r\n          <p className=\"element__amount-likes\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <section className=\"profile\">\r\n        <div onClick={onEditAvatar} className=\"profile__avatar-container\" style={{ backgroundImage: `url(${currentUser.avatar})` }} >\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__info-name\">{currentUser.name}</h1>\r\n          <p className=\"profile__info-about\">{currentUser.about}</p>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__edit-button\"\r\n            aria-label=\"редактировать информацию в профиле\"\r\n            onClick={onEditProfile}\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          aria-label=\"добавить новое место\"\r\n          onClick={onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.map((card) => <Card onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} card={card} key={card._id} />)}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return ( \r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","function ImagePopup({ card, onClose }) {\r\n  return (\r\n    <div className={`popup popup_type_img-viewer ${card.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__viewer\">\r\n        <button\r\n          onClick={onClose}\r\n          type=\"button\"\r\n          className=\"popup__close-button popup__close-button_type_img-viewer\"\r\n          aria-label=\"кнопка закрыть\"\r\n        />\r\n        <img className=\"popup__img\" src={card.link} alt={`Фото: ${card.name}`} />\r\n        <p className=\"popup__place-name\">{card.name}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","export class Api {\r\n  constructor(obj) {\r\n    this._url = obj.url;\r\n    this._authorization = obj.headers.authorization;\r\n    this._contentType = obj.headers['Content-Type'];\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: {\r\n        authorization: this._authorization\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n\r\n  addNewCard(obj) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        name: obj.name,\r\n        link: obj.link\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': this._contentType\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  addLike(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': this._contentType\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  deleteLike(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': this._contentType\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: {\r\n        authorization: this._authorization\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  editUserInfo(obj) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        name: obj.name,\r\n        about: obj.about\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  editAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: `${data.avatar}`\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-25',\r\n  headers: {\r\n    authorization: '102ba505-245e-4e79-bcbe-97cbfaa7a3eb',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\n\r\nexport default api;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm({ name, title, children, isOpen, onClose, buttonText, onSubmit }) {\r\n\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-button\"\r\n          aria-label=\"кнопка закрыть\"\r\n          onClick={onClose}\r\n        />\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form name={name} className=\"popup__form\" onSubmit={onSubmit} autoComplete=\"on\">\r\n          {children}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"popup__save-button\"\r\n            aria-label=\"кнопка отправки формы\"\r\n          >\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, request }) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description\r\n    });\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} name='edit-profile' title='Редактировать профиль' buttonText={request ? 'Сохранить' : 'Сохранение...'} isOpen={isOpen} onClose={onClose}  >\r\n      <input\r\n        type=\"text\"\r\n        id=\"name-input\"\r\n        name=\"name\"\r\n        className=\"popup__input popup__input_field_name\"\r\n        placeholder=\"Отображаемое имя\"\r\n        minLength={2}\r\n        maxLength={40}\r\n        required\r\n        value={name || ''}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"popup__input-error popup__input-error_type_name name-input-error\" />\r\n      <input\r\n        type=\"text\"\r\n        id=\"about-input\"\r\n        name=\"about\"\r\n        className=\"popup__input popup__input_field_about\"\r\n        placeholder=\"деятельность\"\r\n        minLength={2}\r\n        maxLength={200}\r\n        required\r\n        value={description || ''}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span className=\"popup__input-error popup__input-error_type_about about-input-error\" />\r\n    </PopupWithForm >\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, request }) {\r\n  const inputRef = React.useRef(null);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({ avatar: inputRef.current.value });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    inputRef.current.value = '';\r\n  },\r\n    [isOpen]\r\n  )\r\n\r\n  return (\r\n    <PopupWithForm name='editAvatar' title='Обновить аватар' buttonText={request ? 'Обновить аватар' : 'Обновление...'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\r\n      <input\r\n        ref={inputRef}\r\n        type=\"url\"\r\n        name=\"link\"\r\n        required\r\n        placeholder=\"Ссылка на картинку\"\r\n        className=\"popup__input popup__input_field_image-url\"\r\n        id=\"link-input\"\r\n      />\r\n      <span className=\"popup__input-error popup__input-error_type_url link-input-error\" />\r\n    </PopupWithForm >\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, request }) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleLinkChange(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  function clearInputs() {\r\n    setName('');\r\n    setLink('');\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({ name, link });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    clearInputs();\r\n  },\r\n    [isOpen]\r\n  );\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} name='add-place' title='Новое место' buttonText={request ? 'Добавить' : 'Добавление...'} isOpen={isOpen} onClose={onClose} >\r\n      <input\r\n        type=\"text\"\r\n        id=\"title-input\"\r\n        name=\"name\"\r\n        className=\"popup__input popup__input_field_place-name\"\r\n        placeholder=\"Название\"\r\n        minLength={2}\r\n        maxLength={30}\r\n        required\r\n        onChange={handleNameChange}\r\n        value={name}\r\n      />\r\n      <span className=\"popup__input-error popup__input-error_type_title title-input-error\" />\r\n      <input\r\n        type=\"url\"\r\n        id=\"url-input\"\r\n        name=\"link\"\r\n        className=\"popup__input popup__input_field_image-url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        onChange={handleLinkChange}\r\n        value={link}\r\n        required\r\n      />\r\n      <span className=\"popup__input-error popup__input-error_type_url url-input-error\" />\r\n    </PopupWithForm >\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmDeletePopup({ onClose, request, confirmDelete, deleteCard }) {\r\n\r\n  function handleCardDelete(evt) {\r\n    evt.preventDefault();\r\n\r\n    confirmDelete(deleteCard);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name='confirm' title='Вы уверены?' buttonText={request ? 'Да' : 'Удаление...'} isOpen={deleteCard.isOpen} onClose={onClose} onSubmit={handleCardDelete} >\r\n    </PopupWithForm >\r\n  )\r\n}\r\n\r\nexport default ConfirmDeletePopup;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\r\n\r\n\r\n\r\n//Реализацией валидации и индикаторов отправки данных сейчас занимаюсь. Но пока отправляю минимальный для сдачи проект.\r\nfunction App() {\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({ isOpen: false });\r\n  const [request, setRequest] = React.useState(true);\r\n  const [deleteCard, setDeleteCard] = React.useState({ isOpen: false });\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard({ isOpen: false });\r\n    setDeleteCard({ isOpen: false });\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard({ isOpen: true, ...card });\r\n  }\r\n\r\n  async function handleUpdateUser(data) {\r\n    setRequest(false);\r\n    api.editUserInfo(data)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.error(err))\r\n      .finally(() => { setRequest(true) });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    setRequest(false);\r\n    api.editAvatar(data)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.error(err))\r\n      .finally(() => { setRequest(true) });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    setRequest(false);\r\n    api.addNewCard(data)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      })\r\n      .finally(() => { setRequest(true) });\r\n  }\r\n\r\n  function handleCardLike(card, isLiked) {\r\n    (isLiked ? api.deleteLike(card._id) : api.addLike(card._id))\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setDeleteCard({ isOpen: true, ...card });\r\n  }\r\n\r\n  function handleConfirmDelete(card) {\r\n    setRequest(false);\r\n    api.deleteCard(card._id)\r\n      .then(() => setCards(cards.filter(item => item !== card)), (err) => console.error(err))\r\n      .finally(() => { setRequest(true) });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then((res) => {\r\n        setCurrentUser(res[0]);\r\n        setCards(res[1]);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      })\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header />\r\n\r\n      <Main\r\n        onEditProfile={handleEditProfileClick}\r\n        onAddPlace={handleAddPlaceClick}\r\n        onEditAvatar={handleEditAvatarClick}\r\n        onCardClick={handleCardClick}\r\n        onCardDelete={handleCardDelete}\r\n        onCardLike={handleCardLike}\r\n        cards={cards}\r\n      />\r\n\r\n      <Footer />\r\n\r\n      <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} request={request} />\r\n\r\n      <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} request={request} />\r\n\r\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} request={request} />\r\n\r\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n      <ConfirmDeletePopup deleteCard={deleteCard} onClose={closeAllPopups} request={request} confirmDelete={handleConfirmDelete} />\r\n\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}